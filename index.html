<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>石像鬼gargoyle固件 R30 使用教程</title>
<!-- 2015-05-29 Fri 22:31 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Gy408" />

<link rel="stylesheet" href="./css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="./css/jquery.tocify.css" type="text/css"/>
 <link rel="stylesheet" href="./css/org.css" type="text/css"/>
    <script src='./css/bootstrap.min.js'></script>
    <script src='./css/jquery.dataTables.min.js'></script>
    <script src='./css/jquery.min.js'></script>
    <script src='./css/jquery-ui.min.js'></script>
    <script src='./css/jquery.tocify.min.js'></script>

<link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="../css/jquery.tocify.css" type="text/css"/>
 <link rel="stylesheet" href="../css/org.css" type="text/css"/>
    <script src='../css/bootstrap.min.js'></script>
    <script src='../css/jquery.dataTables.min.js'></script>
    <script src='../css/jquery.min.js'></script>
    <script src='../css/jquery-ui.min.js'></script>
    <script src='../css/jquery.tocify.min.js'></script>

<link rel="stylesheet" href="../../css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="../../css/jquery.tocify.css" type="text/css"/>
 <link rel="stylesheet" href="../../css/org.css" type="text/css"/>
    <script src='../../css/bootstrap.min.js'></script>
    <script src='../../css/jquery.dataTables.min.js'></script>
    <script src='../../css/jquery.min.js'></script>
    <script src='../../css/jquery-ui.min.js'></script>
    <script src='../../css/jquery.tocify.min.js'></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">石像鬼gargoyle固件 R30 使用教程</h1>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 说明</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 后台默认帐号和密码</h3>
<div class="outline-text-3" id="text-1-1">
<p>
默认管理员帐号： <code>root</code>
默认root密码： <code>password</code>
</p>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> ssh默认帐号和密码</h3>
<div class="outline-text-3" id="text-1-2">
<p>
默认管理员帐号： <code>root</code>
默认root密码： <code>password</code>
</p>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> gargoyle后台GUI</h3>
<div class="outline-text-3" id="text-1-3">
<p>
地址 <a href="http://192.168.1.1">http://192.168.1.1</a>
</p>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> LUCI后台面板</h3>
<div class="outline-text-3" id="text-1-4">
<p>
地址<a href="http://192.168.1.1:8080">http://192.168.1.1:8080</a>
</p>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> 默认地址</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li><code>石像鬼</code> 的gui进入方式 <a href="http://192.168.1.1">http://192.168.1.1</a>
</li>
<li><code>luci</code> 面板的进入方式为 <a href="http://192.168.1.1:8080">http://192.168.1.1:8080</a>
</li>
<li><code>transmission</code> 地址 <a href="http://192.168.1.1:9091/transmission/web/">http://192.168.1.1:9091/transmission/web/</a>
</li>
<li><code>aria</code> 地址 <a href="http://192.168.1.1/yaaw/">http://192.168.1.1/yaaw/</a>    或者  <a href="http://192.168.1.1/webui-aria2/">http://192.168.1.1/webui-aria2/</a>
</li>
<li><code>电驴</code>  <a href="http://192.168.1.1:4711">http://192.168.1.1:4711</a>
</li>
<li>路由器上的网站 <a href="http://192.168.1.1:81">http://192.168.1.1:81</a>
</li>
<li><code>数据库</code> 管理<a href="http://192.168.1.1:81/phpmyadmin">http://192.168.1.1:81/phpmyadmin</a>
</li>
<li><code>Webdav</code>  <a href="http://192.168.1.1:888/webdav/">http://192.168.1.1:888/webdav/</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 主要特性</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><b>拥有石像鬼和openwrt全部特性</b>
</li>
<li>石像鬼gui和luci双界面
</li>
<li><code>13信道</code>
</li>
<li>石像鬼全插件全主题
</li>
<li>web认证
</li>
<li><b>广告屏蔽</b>
</li>
<li><code>迅雷</code>
</li>
<li>打印服务器
</li>
<li>翻WALL（ <code>ss+chinadns+pdnsd+redstock2</code> ）
</li>
<li>viop电话
</li>
<li><code>百度云</code> 最新版
</li>
<li>IPTV电视
</li>
<li>网络共享，
</li>
<li>openvpn
</li>
<li>aria2全功能版本
</li>
<li>优酷路由宝
</li>
<li>摄像头监控
</li>
<li>Transmission（最新增强版）
</li>
<li>MiniDLNA
</li>
<li>UPnP重定向
</li>
<li>硬盘休眠
</li>
<li>手机控制ColorBox
</li>
<li>sqm-qos
</li>
<li>多拨（ <code>mwan3,nwan，Macvlan</code> 等）
</li>
<li>数据统计
</li>
<li>流量监控( <code>可以监控用户浏览的URL，查询的关键词</code> )
</li>
<li>MMC/SD界面
</li>
<li>kms 激活服务器
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 刷机</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> windows下面刷机方法</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>将PC用网线连接到设备的 <i>LAN口</i>，将PC的IP设置为 <code>192.168.1.X</code> （此例中IP地址设置为 <code>192.168.1.2</code> ），子网掩码为 <code>255.255.255.0</code> ，其他项目可不必设置。
</li>
<li>按路由器开关，将路由器断电；
</li>
<li>用 <code>牙签，或其他尖物</code> 按住设备背面的 <b>Restore Factory Settings</b> 按钮（机身背面的红色小圆孔）
</li>
<li>开启设备电源开关；
</li>
<li>观察电源灯（此时保持按住Restore Factory Settings按钮不要松手），直到电源灯由 <code>橙色闪烁</code> 状态变到 <code>绿色闪烁</code> 状态（说明设备已经进入到了 <b>TFTP修复模式</b> ）；
</li>
<li>win下dos命令

<div class="org-src-container">

<pre class="src src-sh">tftp -i <span style="color: #F92672; font-weight: bold;">192.168</span>.1.1 put openwrt-ar71xx-nand-wndr3700v4-ubi-factory.img
</pre>
</div>
</li>

<li>文件传送完毕后，等待80秒左右，设备会自动重启（请耐心等待，切勿将路由器手动断电）。至此，TFTP修复完成。
</li>
<li>设备重启后，看到亮绿灯，一定先手动断电一次，再重启。 <code>否则可能没有5G</code> 这不是BUG，其他openwrt也是一样的。
</li>
<li>如果恢复过程中断或失败，重复上述步骤再做尝试。
</li>
</ul>
<p>
<code>注：如果恢复过程中断或失败，重复上述步骤再做尝试。</code>
</p>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> linux下面刷机方法</h3>
<div class="outline-text-3" id="text-3-2">
<p>
<code>同样，按以上方法进入TFTP修复模式，然后按下面步骤</code>
</p>
<ul class="org-ul">
<li>输入“tftp”，出现“tftp&gt;”提示符；
</li>
<li>输入“verbose”，出现“Verbose mode on.”提示；
</li>
<li>输入“binary”，出现“mode set to octet.”提示；
</li>
<li>输入“trace”，出现“Packet tracing on.”提示；
</li>
<li>输入“rexmt 1”，每格一秒尝试一次推送；
</li>
<li>输入“timeout 60”，推送尝试的时间不超过60秒；
</li>
<li>输入“connect 192.168.1.1”，连接路由器（实际上并没连接，只是为连接作好准备）；
</li>
<li>输入“put openwrt-ar71xx-nand-wndr3700v4-ubi-factory.img”；
</li>
</ul>

<p>
以上命令，可以用下面一句命令代替
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #3465a4;">echo</span> -e <span style="color: #006400; font-weight: bold;">"binary\nrexmt 1\ntimeout 60\ntrace\nput openwrt-ar71xx-nand-wndr3700v4-ubi-factory.img\n"</span> | tftp <span style="color: #F92672; font-weight: bold;">192.168</span>.1.1
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 初次使用本固件</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>登陆路由器，访问 <a href="http://192.168.1.1">http://192.168.1.1</a>
</li>
</ul>
<p>
输入root的登陆密码 <code>password</code>
</p>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753txh.png" alt="2753txh.png" />
</p>
</div>
<ul class="org-ul">
<li>设置路由器的语言
</li>
</ul>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/275367n.png" alt="275367n.png" />
</p>
</div>
<ul class="org-ul">
<li>设置上网
</li>
</ul>
<p>
设置路由器的语言后，第一时间应先配置WAN。
</p>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753HGu.png" alt="2753HGu.png" />
</p>
</div>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753UQ0.png" alt="2753UQ0.png" />
</p>
</div>
<ul class="org-ul">
<li>按照以上步骤设置，并点击 <code>保存更改</code>  ，正常情况下，保存后可拨号成功。
</li>
</ul>
<p>
拨号成功后，可以在 <code>状态</code> 页面，发现 <code>WAN端IP地址</code> 已成功获取到。可以使用浏览器，测试是否可以上网。
<code>特殊的情况下，仍旧不能上网，可再次确认是否真正已保存成功拨号信息，也可重启多测试一次</code>
</p>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753GaD.png" alt="2753GaD.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 翻墙</h2>
<div class="outline-text-2" id="text-5">
<p>
<code>注意，设置翻墙前，先确认上网没有问题，下面是详细的翻墙设置方法</code>
</p>
<ul class="org-ul">
<li>访问LUCI后台 <a href="http://192.168.1.1:8080">http://192.168.1.1:8080</a>
</li>
</ul>
<p>
默认登陆用户： <code>root</code>
默认登陆密码： <code>password</code>
</p>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753TkJ.png" alt="2753TkJ.png" />
</p>
</div>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753guP.png" alt="2753guP.png" />
</p>
</div>

<ul class="org-ul">
<li>设置DHCP/DNS
</li>
</ul>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753HNi.png" alt="2753HNi.png" />
</p>
</div>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2753UXo.png" alt="2753UXo.png" />
</p>
</div>
<ul class="org-ul">
<li>进入LUCI面板，=系统= &#x2014; <code>自定义命令</code> -&#x2014; <code>运行</code>
</li>
</ul>

<div id="fig:SED-HR4049" class="figure">
<p><img src="./images/2653c7v.png" alt="2653c7v.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> 广告屏蔽</h2>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> aria2下载</h2>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> transmission（最新增强版）下载</h2>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> 迅雷下载</h2>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> 百度云</h2>
</div>
<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> 网络共享</h2>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> FTP设置</h2>
</div>
<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> USB打印机</h2>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> 网络摄像头</h2>
</div>
<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> 无线计划</h2>
</div>
<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16"><span class="section-number-2">16</span> 发邮件功能</h2>
</div>
<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17"><span class="section-number-2">17</span> 电驴下载</h2>
</div>
<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18"><span class="section-number-2">18</span> 网络摄像头</h2>
</div>
<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19"><span class="section-number-2">19</span> USB打印</h2>
</div>
<div id="outline-container-sec-20" class="outline-2">
<h2 id="sec-20"><span class="section-number-2">20</span> 端口转发</h2>
</div>
<div id="outline-container-sec-21" class="outline-2">
<h2 id="sec-21"><span class="section-number-2">21</span> WEB认证配置</h2>
</div>
<div id="outline-container-sec-22" class="outline-2">
<h2 id="sec-22"><span class="section-number-2">22</span> ColorBox</h2>
</div>
<div id="outline-container-sec-23" class="outline-2">
<h2 id="sec-23"><span class="section-number-2">23</span> kms 激活服务器</h2>
</div>
<div id="outline-container-sec-24" class="outline-2">
<h2 id="sec-24"><span class="section-number-2">24</span> viop电话</h2>
</div>
<div id="outline-container-sec-25" class="outline-2">
<h2 id="sec-25"><span class="section-number-2">25</span> openvpn</h2>
</div>
<div id="outline-container-sec-26" class="outline-2">
<h2 id="sec-26"><span class="section-number-2">26</span> 硬盘休眠</h2>
</div>
<div id="outline-container-sec-27" class="outline-2">
<h2 id="sec-27"><span class="section-number-2">27</span> 石像鬼gui和luci双界面</h2>
</div>
<div id="outline-container-sec-28" class="outline-2">
<h2 id="sec-28"><span class="section-number-2">28</span> 13信道</h2>
</div>
<div id="outline-container-sec-29" class="outline-2">
<h2 id="sec-29"><span class="section-number-2">29</span> IPTV电视，网络共享，</h2>
</div>
<div id="outline-container-sec-30" class="outline-2">
<h2 id="sec-30"><span class="section-number-2">30</span> sqm-qos</h2>
</div>
<div id="outline-container-sec-31" class="outline-2">
<h2 id="sec-31"><span class="section-number-2">31</span> 多拨（mwan3,nwan，Macvlan等）</h2>
</div>
<div id="outline-container-sec-32" class="outline-2">
<h2 id="sec-32"><span class="section-number-2">32</span> 数据统计</h2>
</div>
<div id="outline-container-sec-33" class="outline-2">
<h2 id="sec-33"><span class="section-number-2">33</span> 流量监控</h2>
</div>
<div id="outline-container-sec-34" class="outline-2">
<h2 id="sec-34"><span class="section-number-2">34</span> MMC/SD界面</h2>
</div>
<div id="outline-container-sec-35" class="outline-2">
<h2 id="sec-35"><span class="section-number-2">35</span> 保持连接</h2>
</div>
<div id="outline-container-sec-36" class="outline-2">
<h2 id="sec-36"><span class="section-number-2">36</span> 代理服务器</h2>
</div>
<div id="outline-container-sec-37" class="outline-2">
<h2 id="sec-37"><span class="section-number-2">37</span> MJPG-streamer</h2>
</div>
<div id="outline-container-sec-38" class="outline-2">
<h2 id="sec-38"><span class="section-number-2">38</span> OpenVPN</h2>
</div>
<div id="outline-container-sec-39" class="outline-2">
<h2 id="sec-39"><span class="section-number-2">39</span> miniDLNA</h2>
</div>
<div id="outline-container-sec-40" class="outline-2">
<h2 id="sec-40"><span class="section-number-2">40</span> CPU占用率限制</h2>
</div>
<div id="outline-container-sec-41" class="outline-2">
<h2 id="sec-41"><span class="section-number-2">41</span> HTTP服务</h2>
</div>
<div id="outline-container-sec-42" class="outline-2">
<h2 id="sec-42"><span class="section-number-2">42</span> 自定义命令</h2>
</div>
<div id="outline-container-sec-43" class="outline-2">
<h2 id="sec-43"><span class="section-number-2">43</span> 备份/恢复</h2>
</div>
<div id="outline-container-sec-44" class="outline-2">
<h2 id="sec-44"><span class="section-number-2">44</span> Webshell</h2>
</div>
<div id="outline-container-sec-45" class="outline-2">
<h2 id="sec-45"><span class="section-number-2">45</span> 挂载点</h2>
</div>
<div id="outline-container-sec-46" class="outline-2">
<h2 id="sec-46"><span class="section-number-2">46</span> 计划任务</h2>
</div>
<div id="outline-container-sec-47" class="outline-2">
<h2 id="sec-47"><span class="section-number-2">47</span> 启动管理</h2>
</div>
</div>
<div id="postamble" class="status">

    <script type='text/javascript'>
    content = document.getElementById('content');
    postamble = document.getElementById('postamble');

    document.body.insertBefore(postamble, content);

    container = document.createElement('div');
    container.className = 'container-fluid';
    document.body.insertBefore(container, content);

    row = document.createElement('div');
    row.className = 'row-fluid';
    container.appendChild(row);

    left = document.createElement('div');
    right = document.createElement('div');
    left.className = 'span2';
    right.className = 'span10 offset2';
    row.appendChild(left);
    row.appendChild(right);

    // Left
    // slidebar = document.createElement('div');
    // left.appendChild(slidebar);
    // slidebar.id = 'toc';
    left.id = 'toc';

    // Right 
    right.appendChild(content);
    right.appendChild(postamble);
    </script>

    <script type='text/javascript'>
    $(document).ready(function() {
     //Calls the tocify method on your HTML div.
         var toc = $('#toc').tocify({
            selectors: 'h2, h3',
         }).data('toc-tocify');
    });
    </script>

    <!-- Duoshuo Comment BEGIN -->
      <div class='ds-thread'></div>
    <script type='text/javascript'>
    var duoshuoQuery = {short_name:'elvestar'};
    (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';ds.async = true;
                ds.src = './css/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0] 
                  || document.getElementsByTagName('body')[0]).appendChild(ds);
                })();
    </script>
    <!-- Duoshuo Comment END -->

    <!-- Google Analytics BEGIN -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-491df9908-1', 'org-mode.org');
    ga('send', 'pageview');

    </script>
    <!-- Google Analytics END -->
</div>
</body>
</html>